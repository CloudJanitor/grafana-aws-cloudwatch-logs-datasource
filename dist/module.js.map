{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./annotations_query_ctrl.ts","webpack:///./config_ctrl.ts","webpack:///./datasource.ts","webpack:///./module.ts","webpack:///./query_ctrl.ts"],"names":[],"mappings":"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","file":"module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./module.ts\");\n","export class AwsCloudWatchLogsAnnotationsQueryCtrl {\n  scope: any;\n  static templateUrl = 'partials/annotations.editor.html';\n\n  constructor($scope, $injector) {\n    this.scope = $scope;\n  }\n}\n","export class AwsCloudWatchLogsDatasourceConfigCtrl {\n  current: any;\n  accessKeyExist: any;\n  secretKeyExist: any;\n  datasourceSrv: any;\n  authTypes: any;\n  static templateUrl = 'partials/config.html';\n\n  /** @ngInject */\n  constructor($scope, datasourceSrv) {\n    this.current.jsonData.authType = this.current.jsonData.authType || 'credentials';\n\n    this.accessKeyExist = this.current.secureJsonFields.accessKey;\n    this.secretKeyExist = this.current.secureJsonFields.secretKey;\n    this.datasourceSrv = datasourceSrv;\n    this.authTypes = [\n      { name: 'Access & secret key', value: 'keys' },\n      { name: 'Credentials file', value: 'credentials' },\n      { name: 'ARN', value: 'arn' },\n    ];\n  }\n\n  resetAccessKey() {\n    this.accessKeyExist = false;\n  }\n\n  resetSecretKey() {\n    this.secretKeyExist = false;\n  }\n}\n","import _ from \"lodash\";\nimport TableModel from 'grafana/app/core/table_model';\nimport flatten from 'grafana/app/core/utils/flatten';\n\nexport class AwsCloudWatchLogsDatasource {\n  type: string;\n  url: string;\n  name: string;\n  id: string;\n  defaultRegion: string;\n  q: any;\n  $q: any;\n  backendSrv: any;\n  templateSrv: any;\n  timeSrv: any;\n\n  constructor(instanceSettings, $q, backendSrv, templateSrv, timeSrv) {\n    this.type = instanceSettings.type;\n    this.url = instanceSettings.url;\n    this.name = instanceSettings.name;\n    this.id = instanceSettings.id;\n    this.defaultRegion = instanceSettings.jsonData.defaultRegion;\n    this.q = $q;\n    this.backendSrv = backendSrv;\n    this.templateSrv = templateSrv;\n    this.timeSrv = timeSrv;\n  }\n\n  async query(options) {\n    let query = this.buildQueryParameters(options);\n    query.targets = query.targets.filter(t => !t.hide);\n\n    if (query.targets.length <= 0) {\n      return this.q.when({ data: [] });\n    }\n\n    return await this.doRequest({\n      data: query\n    });\n  }\n\n  testDatasource() {\n    return this.doMetricQueryRequest('log_group_names', {\n      region: this.defaultRegion,\n      logGroupNamePrefix: 'test'\n    }).then(res => {\n      return this.q.when({ status: \"success\", message: \"Data source is working\", title: \"Success\" });\n    }).catch(err => {\n      return { status: \"error\", message: err.message, title: \"Error\" };\n    });\n  }\n\n  async doRequest(options) {\n    const results = await Promise.all(options.data.targets.map(async (target) => {\n      if (!target.useInsights) {\n        return await this.backendSrv.datasourceRequest({\n          url: '/api/tsdb/query',\n          method: 'POST',\n          data: {\n            from: options.data.range.from.valueOf().toString(),\n            to: options.data.range.to.valueOf().toString(),\n            queries: [target],\n          }\n        });\n      } else {\n        const startResult = await this.backendSrv.datasourceRequest({\n          url: '/api/tsdb/query',\n          method: 'POST',\n          data: {\n            from: options.data.range.from.valueOf().toString(),\n            to: options.data.range.to.valueOf().toString(),\n            queries: [target],\n          }\n        });\n        const queryId = startResult.data.results[target.refId].meta.QueryId;\n        target.queryId = queryId;\n        let queryResult;\n        for (let i = 0; i < 60; i++) {\n          queryResult = await this.backendSrv.datasourceRequest({\n            url: '/api/tsdb/query',\n            method: 'POST',\n            data: {\n              from: options.data.range.from.valueOf().toString(),\n              to: options.data.range.to.valueOf().toString(),\n              queries: [target],\n            }\n          });\n          const status = queryResult.data.results[target.refId].meta.Status;\n          if (status === 'Complete') {\n            break;\n          } else if (_.includes(['Failed', 'Cancelled'], status)) {\n            throw 'insights query failed';\n          } else {\n            await this.delay(1000);\n            continue; // in progress\n          }\n        }\n        return queryResult;\n      }\n    }));\n\n    const resultsMap = {};\n    _.each(results, (result: any) => {\n      _.each(result.data.results, (r) => {\n        resultsMap[r.refId] = r;\n      })\n    })\n    let res: any = [];\n    for (const target of options.data.targets) {\n      const r = resultsMap[target.refId];\n      if (!_.isEmpty(r.series)) {\n        _.forEach(r.series, s => {\n          res.push({ target: s.name, datapoints: s.points });\n        });\n      }\n      if (!_.isEmpty(r.tables)) {\n        _.forEach(r.tables, t => {\n          res.push(this.expandMessageField(t));\n        });\n      }\n    }\n\n    return {\n      data: res\n    };\n  }\n\n  delay(msec) {\n    return new Promise(resolve => setTimeout(resolve, msec));\n  }\n\n  buildQueryParameters(options) {\n    let targets = _.map(options.targets, target => {\n      let input: any = {};\n      let inputInsightsStartQuery: any = {};\n      if (!target.useInsights) {\n        input = {\n          logGroupName: this.templateSrv.replace(target.logGroupName, options.scopedVars),\n          logStreamNames: target.logStreamNames.filter(n => { return n !== \"\"; }).map(n => { return this.templateSrv.replace(n, options.scopedVars); }),\n          filterPattern: this.templateSrv.replace(target.filterPattern, options.scopedVars),\n          limit: target.limit,\n          interleaved: false\n        };\n        if (input.logStreamNames.length === 0) {\n          delete input.logStreamNames;\n        }\n      } else {\n        inputInsightsStartQuery = {\n          logGroupName: this.templateSrv.replace(target.logGroupName, options.scopedVars),\n          queryString: this.templateSrv.replace(target.filterPattern, options.scopedVars),\n          limit: target.limit,\n        };\n      }\n\n      return {\n        refId: target.refId,\n        hide: target.hide,\n        datasourceId: this.id,\n        queryType: 'timeSeriesQuery',\n        format: target.type || 'timeserie',\n        region: this.templateSrv.replace(target.region, options.scopedVars) || this.defaultRegion,\n        useInsights: target.useInsights,\n        legendFormat: target.legendFormat,\n        timestampColumn: target.timestampColumn,\n        valueColumn: target.valueColumn,\n        input: input,\n        inputInsightsStartQuery: inputInsightsStartQuery\n      };\n    });\n\n    options.targets = targets;\n    return options;\n  }\n\n  expandMessageField(originalTable) {\n    var table = new TableModel();\n    var i, j;\n    var metricLabels = {};\n\n    if (originalTable.rows.length === 0) {\n      return table;\n    }\n    table.columns = originalTable.columns;\n\n    // Collect all labels across all metrics\n    let messageIndex = table.columns.findIndex(c => {\n      return c.text === 'Message';\n    });\n    let messages = originalTable.rows.map(r => {\n      let messageJson = {};\n      try {\n        if (r[messageIndex][0] === '{') {\n          messageJson = JSON.parse(r[messageIndex]);\n        }\n      } catch (err) {\n        // ignore error\n      }\n      return messageJson;\n    });\n    _.each(messages.slice(0, 100), (message) => {\n      let flattened = flatten(message, null);\n      for (let propName in flattened) {\n        metricLabels[propName] = 1;\n      }\n    });\n\n    // Sort metric labels, create columns for them and record their index\n    let sortedLabels = _.keys(metricLabels).sort();\n    _.each(sortedLabels, function (label, labelIndex) {\n      metricLabels[label] = labelIndex + 1;\n      table.columns.push({ text: label });\n    });\n\n    // Populate rows, set value to empty string when label not present.\n    for (i = 0; i < originalTable.rows.length; i++) {\n      let reordered = originalTable.rows[i];\n      let message = messages[i];\n      for (j = 0; j < sortedLabels.length; j++) {\n        let label = sortedLabels[j];\n        reordered.push(_.get(message, label) || '');\n      }\n      table.rows.push(reordered);\n    }\n\n    return table;\n  }\n\n  metricFindQuery(query) {\n    let region;\n\n    let logGroupNamesQuery = query.match(/^log_group_names\\(([^,]+?),\\s?(.+)\\)/);\n    if (logGroupNamesQuery) {\n      region = logGroupNamesQuery[1];\n      let prefix = logGroupNamesQuery[2];\n      return this.doMetricQueryRequest('log_group_names', {\n        region: this.templateSrv.replace(region),\n        logGroupNamePrefix: this.templateSrv.replace(prefix)\n      });\n    }\n\n    let logStreamNamesQuery = query.match(/^log_stream_names\\(([^,]+?),\\s?(.+)\\)/);\n    if (logStreamNamesQuery) {\n      region = logStreamNamesQuery[1];\n      let logGroupName = logStreamNamesQuery[2];\n      return this.doMetricQueryRequest('log_stream_names', {\n        region: this.templateSrv.replace(region),\n        logGroupName: this.templateSrv.replace(logGroupName),\n        logStreamNamePrefix: \"\"\n      });\n    }\n\n\n    return this.$q.when([]);\n  }\n\n  doMetricQueryRequest(subtype, parameters) {\n    var range = this.timeSrv.timeRange();\n    return this.backendSrv.datasourceRequest({\n      url: '/api/tsdb/query',\n      method: 'POST',\n      data: {\n        from: range.from.valueOf().toString(),\n        to: range.to.valueOf().toString(),\n        queries: [\n          _.extend(\n            {\n              refId: 'metricFindQuery',\n              datasourceId: this.id,\n              queryType: 'metricFindQuery',\n              subtype: subtype,\n            },\n            parameters\n          ),\n        ],\n      }\n    }).then(r => {\n      return this.transformSuggestDataFromTable(r.data);\n    });\n  }\n\n  transformSuggestDataFromTable(suggestData) {\n    return _.map(suggestData.results['metricFindQuery'].tables[0].rows, v => {\n      return {\n        text: v[0],\n        value: v[1],\n      };\n    });\n  }\n\n  annotationQuery(options) {\n    let annotation = options.annotation;\n    let region = annotation.region || this.defaultRegion;\n    let logGroupName = annotation.logGroupName || '';\n    let filterPattern = annotation.filterPattern || '';\n    let tagKeys = annotation.tagKeys || '';\n    tagKeys = tagKeys.split(',');\n    let titleFormat = annotation.titleFormat || '';\n    let textFormat = annotation.textFormat || '';\n\n    if (_.isEmpty(region) || _.isEmpty(logGroupName)) { return Promise.resolve([]); }\n\n    let range = this.timeSrv.timeRange();\n    return this.backendSrv.datasourceRequest({\n      url: '/api/tsdb/query',\n      method: 'POST',\n      data: {\n        from: range.from.valueOf().toString(),\n        to: range.to.valueOf().toString(),\n        queries: [\n          {\n            refId: 'annotationQuery',\n            datasourceId: this.id,\n            queryType: 'annotationQuery',\n            region: this.templateSrv.replace(region),\n            input: {\n              logGroupName: this.templateSrv.replace(logGroupName),\n              filterPattern: this.templateSrv.replace(filterPattern),\n              interleaved: false\n            }\n          }\n        ]\n      }\n    }).then(r => {\n      if (!r.data.results[\"\"].meta.Events) {\n        return [];\n      }\n      let eventList = r.data.results[\"\"].meta.Events.map((event) => {\n        let messageJson = JSON.parse(event.Message);\n        let tags = _.chain(messageJson)\n          .filter((v, k) => {\n            return _.includes(tagKeys, k);\n          }).value();\n\n        return {\n          annotation: annotation,\n          time: event.Timestamp,\n          title: this.renderTemplate(titleFormat, messageJson),\n          tags: tags,\n          text: this.renderTemplate(textFormat, messageJson)\n        };\n      });\n\n      return eventList;\n    });\n  }\n\n  renderTemplate(aliasPattern, aliasData) {\n    var aliasRegex = /\\{\\{\\s*(.+?)\\s*\\}\\}/g;\n    return aliasPattern.replace(aliasRegex, function (match, g1) {\n      if (aliasData[g1]) {\n        return aliasData[g1];\n      }\n      return g1;\n    });\n  }\n}\n","import { AwsCloudWatchLogsDatasource } from './datasource';\nimport { AwsCloudWatchLogsDatasourceQueryCtrl } from './query_ctrl';\nimport { AwsCloudWatchLogsAnnotationsQueryCtrl } from './annotations_query_ctrl';\nimport { AwsCloudWatchLogsDatasourceConfigCtrl } from './config_ctrl';\n\nexport {\n  AwsCloudWatchLogsDatasource as Datasource,\n  AwsCloudWatchLogsDatasourceQueryCtrl as QueryCtrl,\n  AwsCloudWatchLogsDatasourceConfigCtrl as ConfigCtrl,\n  AwsCloudWatchLogsAnnotationsQueryCtrl as AnnotationsQueryCtrl\n};\n","import { QueryCtrl } from 'grafana/app/plugins/sdk';\n\nexport class AwsCloudWatchLogsDatasourceQueryCtrl extends QueryCtrl {\n  scope: any;\n  target: any;\n  panelCtrl: any;\n  templateSrv: any;\n  datasource: any;\n  defaultRegion: string;\n  suggestLogGroupName: any;\n  suggestLogStreamName: any;\n  static templateUrl = 'partials/query.editor.html';\n\n  constructor($scope, $injector, templateSrv) {\n    super($scope, $injector);\n\n    this.scope = $scope;\n    this.target.type = this.target.type || 'timeserie';\n    this.target.region = this.target.region || '';\n    this.target.logGroupName = this.target.logGroupName || '';\n    this.target.logStreamNames = this.target.logStreamNames || [];\n    this.target.filterPattern = this.target.filterPattern || '';\n    this.target.limit = this.target.limit || 10000;\n    this.target.legendFormat = this.target.legendFormat || '';\n    this.target.timestampColumn = this.target.timestampColumn || '';\n    this.target.valueColumn = this.target.valueColumn || '';\n    this.templateSrv = templateSrv;\n\n    this.suggestLogGroupName = (query, callback) => {\n      let region = this.target.region || this.defaultRegion;\n      return this.datasource.doMetricQueryRequest('log_group_names', {\n        region: this.templateSrv.replace(region),\n        logGroupNamePrefix: query\n      }).then(data => {\n        callback(data.map(d => { return d.value; }));\n      });\n    };\n\n    this.suggestLogStreamName = (query, callback) => {\n      if (!this.target.logGroupName) {\n        return callback([]);\n      }\n      let region = this.target.region || this.defaultRegion;\n      return this.datasource.doMetricQueryRequest('log_stream_names', {\n        region: this.templateSrv.replace(region),\n        logGroupName: this.target.logGroupName,\n        logStreamNamePrefix: query\n      }).then(data => {\n        callback(data.map(d => { return d.value; }));\n      });\n    };\n  }\n\n  onChangeInternal() {\n    this.panelCtrl.refresh();\n  }\n}\n"],"sourceRoot":""}